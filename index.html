<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>AR Marker Test</title>

    <!-- A-Frame 0.8.0 -->
    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>

    <!-- AR.js für A-Frame -->
    <script src="https://cdn.rawgit.com/jeromeetienne/ar.js/1.7.2/aframe/build/aframe-ar.min.js"></script>
  </head>

  <body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs="sourceType: webcam;">

      <!-- Marker mit 3D-Objekten -->
      <a-marker type="pattern" url="pattern-Pegasus.patt">
        <!-- 3D-Würfel -->
        <a-box position="0 0.5 0" color="#4CC3D9" depth="0.5" height="0.5" width="0.5"></a-box>

        <!-- Container für Sterne -->
        <a-entity id="stern-container"></a-entity>
      </a-marker>

      <!-- Kamera -->
      <a-entity camera></a-entity>
    </a-scene>

    <!-- Marker-Link -->
    <div style="position: absolute; top: 10px; left: 10px; background: white; padding: 5px;">
      <a href="marker.png" target="_blank">Marker anzeigen</a>
    </div>

    <!-- JavaScript für Sterne -->
    <script>
      // Funktion zum Erstellen eines Sternobjekts
      function createStar(x, y, z) {
  return {
    position: `${x} ${y} ${z}`,
    color: "#FFD700",
    size: 0.05
  };
}


      // Array mit Sternen
      const stars = [];
      for (let i = 0; i < 20; i++) {
        stars.push(createStar(
          (Math.random() - 0.5) * 2,
          Math.random() + 0.5,
          (Math.random() - 0.5) * 2
        ));
      }

      // Sterne erzeugen und in Szene einfügen
      const container = document.getElementById("stern-container");
      stars.forEach(star => {
        const el = document.createElement("a-sphere");
        el.setAttribute("position", star.position);
        el.setAttribute("radius", star.size);
        el.setAttribute("color", star.color);
        container.appendChild(el);
      });
    </script>
  </body>
</html>
